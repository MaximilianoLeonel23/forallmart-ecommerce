import { token } from "../../../helpers/auth";
import { Link } from "react-router-dom";

const MainAside = ({ userData, handleSession, aside }) => {
  return (
    <aside
      id="aside"
      className="sm:hidden absolute top-12 left-0 border-t z-10 w-2/3 -translate-x-full transition"
    >
      <nav className="container min-h-screen bg-white relative">
        <ul className="flex flex-col gap-y-6 pt-4 fill-gray-700 text-gray-700">
          <li
            className="flex items-center gap-x-2"
            onClick={() => {
              aside?.classList?.toggle("-translate-x-full");
            }}
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
              <path d="M6 19h3.7v-5.875h4.6V19H18v-9l-6-4.55L6 10Zm-1 1V9.5l7-5.3 7 5.3V20h-5.7v-5.875h-2.6V20Zm7-7.775Z" />
            </svg>
            <Link className="menu-item" to="/">
              Inicio
            </Link>
          </li>
          <li
            className="flex items-center gap-x-2"
            onClick={() => {
              aside?.classList?.toggle("-translate-x-full");
            }}
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
              <path d="M20.5 10.9v7.975q0 .7-.462 1.163-.463.462-1.138.462H5.125q-.7 0-1.163-.462-.462-.463-.462-1.163V10.85q-.625-.45-.925-1.213-.3-.762 0-1.612L3.55 4.8q.2-.6.638-.95.437-.35 1.087-.35h13.4q.675 0 1.113.325.437.325.637.95l1.025 3.25q.275.85-.012 1.625-.288.775-.938 1.25Zm-6.3-.4q.975 0 1.45-.538.475-.537.4-1.112l-.675-4.35H12.5v4.2q0 .725.512 1.262.513.538 1.188.538Zm-4.5 0q.8 0 1.3-.538.5-.537.5-1.262V4.5H8.625l-.65 4.425q-.075.475.4 1.025.475.55 1.325.55Zm-4.45 0q.675 0 1.138-.45.462-.45.562-1.125L7.575 4.5h-2.3q-.325 0-.512.15-.188.15-.288.425l-.925 3.15q-.25.8.213 1.537.462.738 1.487.738Zm13.5 0q.9 0 1.438-.7.537-.7.262-1.575l-.975-3.175q-.1-.3-.287-.425Q19 4.5 18.675 4.5h-2.25l.625 4.425q.125.675.588 1.125.462.45 1.112.45Zm-13.625 9H18.9q.25 0 .425-.175t.175-.45v-7.5q-.2.075-.375.1-.175.025-.375.025-.675 0-1.188-.262-.512-.263-.962-.838-.4.475-.975.788-.575.312-1.4.312-.6 0-1.137-.275Q12.55 10.95 12 10.4q-.5.55-1.113.825-.612.275-1.162.275-.625 0-1.225-.238-.6-.237-1.05-.862-.725.725-1.275.912-.55.188-.925.188-.175 0-.362-.025-.188-.025-.388-.1v7.5q0 .275.175.45t.45.175Zm13.775 0H5.125 18.9Z" />
            </svg>
            <Link className="menu-item" to="/productos">
              Productos
            </Link>
          </li>
          <li
            className="flex items-center gap-x-2"
            onClick={() => {
              aside?.classList?.toggle("-translate-x-full");
            }}
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
              <path d="M6.625 21q-.7 0-1.162-.462Q5 20.075 5 19.375V8.625q0-.7.463-1.162Q5.925 7 6.625 7H8.5v-.5q0-1.45 1.025-2.475Q10.55 3 12 3q1.45 0 2.475 1.025Q15.5 5.05 15.5 6.5V7h1.875q.7 0 1.163.463.462.462.462 1.162v10.75q0 .7-.462 1.163-.463.462-1.163.462Zm0-1h10.75q.25 0 .437-.188.188-.187.188-.437V8.625q0-.25-.188-.437Q17.625 8 17.375 8H15.5v2.5q0 .225-.137.363Q15.225 11 15 11q-.225 0-.363-.137-.137-.138-.137-.363V8h-5v2.5q0 .225-.137.363Q9.225 11 9 11q-.225 0-.363-.137-.137-.138-.137-.363V8H6.625q-.25 0-.437.188Q6 8.375 6 8.625v10.75q0 .25.188.437.187.188.437.188ZM9.5 7h5v-.5q0-1.05-.725-1.775Q13.05 4 12 4q-1.05 0-1.775.725Q9.5 5.45 9.5 6.5ZM6 20V8v12Z" />
            </svg>
            <Link className="menu-item" to="/carrito">
              Carrito
            </Link>
          </li>
          {token() && (
            <li
              className="flex items-center gap-x-2"
              onClick={() => {
                aside?.classList?.toggle("-translate-x-full");
              }}
            >
              <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
                <path d="M12 11.375q-1.25 0-2.125-.875T9 8.375q0-1.225.875-2.113.875-.887 2.125-.887t2.125.887Q15 7.15 15 8.375q0 1.25-.875 2.125T12 11.375Zm-7 7.25v-1.65q0-.625.363-1.163.362-.537.962-.837 1.425-.675 2.838-1.013 1.412-.337 2.837-.337 1.425 0 2.838.337 1.412.338 2.837 1.013.6.3.963.837.362.538.362 1.163v1.65Zm1-1h12v-.65q0-.35-.212-.638-.213-.287-.588-.487-1.25-.6-2.562-.912-1.313-.313-2.638-.313t-2.637.313q-1.313.312-2.563.912-.375.2-.587.487-.213.288-.213.638Zm6-7.25q.825 0 1.413-.588Q14 9.2 14 8.375t-.587-1.412q-.588-.588-1.413-.588-.825 0-1.412.588Q10 7.55 10 8.375t.588 1.412q.587.588 1.412.588Zm0-2Zm0 9.25Z" />
              </svg>
              <Link className="menu-item" to="/perfil">
                Perfil
              </Link>
            </li>
          )}
          {userData?.is_admin && (
            <li
              className="flex items-center gap-x-2 "
              onClick={() => {
                aside?.classList?.toggle("-translate-x-full");
              }}
            >
              <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
                <path d="m10.125 21-.35-2.9q-.475-.125-1.037-.437Q8.175 17.35 7.8 17l-2.675 1.125-1.875-3.25 2.325-1.75q-.05-.25-.087-.538-.038-.287-.038-.562 0-.25.038-.538.037-.287.087-.612L3.25 9.125l1.875-3.2 2.65 1.1q.45-.375.963-.675.512-.3 1.012-.45l.375-2.9h3.75l.35 2.9q.575.225 1.013.475.437.25.912.65l2.725-1.1 1.875 3.2-2.4 1.8q.1.3.1.563V12q0 .225-.012.488-.013.262-.088.637l2.35 1.75-1.875 3.25-2.675-1.15q-.475.4-.937.675-.463.275-.988.45l-.35 2.9Zm1.85-6.5q1.05 0 1.775-.725.725-.725.725-1.775 0-1.05-.725-1.775-.725-.725-1.775-.725-1.05 0-1.775.725-.725.725-.725 1.775 0 1.05.725 1.775.725.725 1.775.725Zm0-1q-.625 0-1.062-.438-.438-.437-.438-1.062t.438-1.062q.437-.438 1.062-.438t1.063.438q.437.437.437 1.062t-.437 1.062q-.438.438-1.063.438ZM12 12Zm-1 8h1.95l.375-2.7q.75-.2 1.363-.55.612-.35 1.237-.975L18.4 16.85l1-1.7-2.175-1.65q.125-.425.163-.788.037-.362.037-.712 0-.375-.037-.713-.038-.337-.163-.762L19.45 8.85l-1-1.7-2.55 1.075q-.45-.5-1.187-.938-.738-.437-1.413-.587L13 4h-2l-.3 2.7q-.75.15-1.388.512-.637.363-1.262.988l-2.5-1.05-1 1.7 2.175 1.625q-.125.325-.175.725-.05.4-.05.825 0 .375.05.75t.15.725l-2.15 1.65 1 1.7 2.475-1.05q.6.6 1.225.95.625.35 1.425.55Z" />
              </svg>
              <Link className="menu-item" to="/admin/productos">
                Administración
              </Link>
            </li>
          )}
          {token() ? (
            <li
              className="flex items-center gap-x-2 border-t border-gray-200 pt-4"
              onClick={() => {
                aside?.classList?.toggle("-translate-x-full");
              }}
            >
              <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
                <path d="M5.8 21q-.675 0-1.138-.462-.462-.463-.462-1.163V5.625q0-.7.462-1.162Q5.125 4 5.8 4h6.425v1H5.8q-.225 0-.412.188-.188.187-.188.437v13.75q0 .25.188.437.187.188.412.188h6.425v1Zm10.475-4.95-.7-.725 2.3-2.325h-8.65v-1h8.65l-2.3-2.325.7-.725L19.8 12.5Z" />
              </svg>
              <a onClick={handleSession} className="menu-item cursor-pointer">
                Cerrar sesión
              </a>
            </li>
          ) : (
            <li
              className="flex items-center gap-x-2 border-t pt-4 border-gray-200"
              onClick={() => {
                aside?.classList?.toggle("-translate-x-full");
              }}
            >
              <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
                <path d="M11.775 21v-1H18.2q.225 0 .413-.188.187-.187.187-.437V5.625q0-.25-.187-.437Q18.425 5 18.2 5h-6.425V4H18.2q.675 0 1.137.463.463.462.463 1.162v13.75q0 .7-.463 1.163Q18.875 21 18.2 21Zm-.55-4.95-.7-.725L12.85 13H4.2v-1h8.65l-2.325-2.325.7-.725 3.55 3.55Z" />
              </svg>
              <Link className="menu-item" to="/login">
                Inicia sesión
              </Link>
            </li>
          )}
        </ul>
      </nav>
    </aside>
  );
};

export default MainAside;
